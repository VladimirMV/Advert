{"version":3,"file":"static/js/978.90462aee.chunk.js","mappings":"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","sources":["components/Error/Error.js","components/Loader/Loader.js","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.js","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","services/apiService.js","services/status.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport errorImage from '../../img/no_results_found.png';\nimport './Error.css';\n\nexport default function ErrorComponent({ message }) {\n  return (\n    <div role=\"alert\" className=\"wrapper\">\n      <img src={errorImage} width=\"400\" alt=\"no results found\" />\n      <p text={message} className=\"text\">\n        {message}\n      </p>\n    </div>\n  );\n}\n\nErrorComponent.propTypes = {\n  textError: PropTypes.string.isRequired,\n};\n","import { RotatingTriangles } from 'react-loader-spinner';\n\nexport default function LoaderComponent() {\n  return (\n    <RotatingTriangles\n      height=\"180\"\n      width=\"180\"\n      colors={['#fa7584;', '#6eb9fc', '#fd957d']}\n      ariaLabel=\"rotating-triangels-loading\"\n      radius=\"12.5\"\n      wrapperStyle={{\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      }}\n      wrapperClass=\"\"\n      visible={true}\n    />\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"input\":\"SearchBar_input__bIy50\",\"button\":\"SearchBar_button__T7RTc\"};","import { useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function SearchBar({ onHandleSubmit, currQuery }) {\n  const [query, setQuery] = useState('');\n  const [done, setDone] = useState(false);\n\n  const handleChangeQuery = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      toast.info('Please enter your query!');\n      return;\n    }\n\n    onHandleSubmit(query);\n  };\n\n  if (currQuery && !query && !done) {\n    setQuery(currQuery);\n    setDone(true);\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles.form}>\n      <input\n        type=\"text\"\n        value={query}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Enter movie name...\"\n        onChange={handleChangeQuery}\n        className={styles.input}\n      />\n      <button type=\"submit\" className={styles.button}>\n        Search\n      </button>\n      <ToastContainer />\n    </form>\n  );\n}\n\nSearchBar.propTypes = {\n  onHandleSubmit: PropTypes.func.isRequired,\n  currQuery: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesPage_moviesList__RPIho\",\"movieTitle\":\"MoviesPage_movieTitle__o-ghW\",\"poster\":\"MoviesPage_poster__oMK4j\",\"moviesItem\":\"MoviesPage_moviesItem__V9o7+\",\"link\":\"MoviesPage_link__Lj8cH\",\"pagination\":\"MoviesPage_pagination__2j6d3\"};","import { useState, useEffect } from 'react';\nimport { NavLink, useNavigate, useLocation } from 'react-router-dom';\n\nimport apiService from '../../services/apiService';\nimport { Pagination } from '@mui/material'; \nimport Status from '../../services/status';\nimport LoaderComponent from '../../components/Loader';\nimport ErrorComponent from '../../components/Error';\nimport noPhoto from '../../img/no_image.jpg';\nimport SearchBar from '../../components/SearchBar';\nimport styles from './MoviesPage.module.css';\n\nexport default function  Movies  ()  {\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { pathname: url } = location;\n  const [query, setQuery] = useState('');\n  const [totalPage, setTotalPage] = useState(0);\n  const [movies, setMovies] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const page = new URLSearchParams(location.search).get('page') ?? 1;\n\n  useEffect(() => {\n    if (location.search === '') {\n      return;\n    }\n\n    const newSearch = new URLSearchParams(location.search).get('query');\n    setQuery(newSearch, page);\n  }, [location.search, page]);\n\n  useEffect(() => {\n    if (!query) return;\n    setStatus(Status.PENDING);\n    apiService\n      .getMoviesByKeyWord(query, page)\n      .then(({ results, total_pages }) => {\n        if (results.length === 0) {\n          setError(`No results to show for \"${query}!\"`);\n          setStatus(Status.REJECTED);\n          return;\n        }\n        setMovies(results);\n        setTotalPage(total_pages);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        console.log(error);\n        setError(error.message);\n        setStatus(Status.REJECTED);\n      });\n  }, [query, page]);\n\n  const searchImages = newSearch => {\n    if (query === newSearch) return;\n    setQuery(newSearch);\n    setMovies(null);\n    setError(null);\n    setStatus(Status.IDLE);\n    navigate({ ...location, search: `query=${newSearch}&page=1` });\n  };\n\n  const onHandlePage = (event, page) => {\n    navigate({ ...location, search: `query=${query}&page=${page}` });\n  };\n\n  return (\n    <>\n      <SearchBar onHandleSubmit={searchImages} currQuery={query} />\n      {status === Status.PENDING && <LoaderComponent />}\n      {status === Status.REJECTED && (\n        <ErrorComponent message={error} textError=\"Error\" />\n      )}\n      {status === Status.RESOLVED && (\n        <>\n          <ul className={styles.moviesList}>\n            {movies.map(movie => (\n              <li key={movie.id} className={styles.moviesItem}>\n                <NavLink\n                  to={`${url}/${movie.id}`}\n                  state={{ getBack: { ...location } }}\n                  className={styles.link}\n                >\n                  <img\n                    src={ movie.poster_path ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`: noPhoto    }\n                    alt={movie.title}\n                    width=\"320\"\n                    className={styles.poster}\n                  />\n                  <p className={styles.movieTitle}>{movie.title}</p>\n                </NavLink>\n              </li>\n            ))}\n          </ul>\n          {totalPage > 1 && (\n            <Pagination\n              className={styles.pagination}\n              color='primary'\n              count={totalPage}\n              onChange={onHandlePage}\n              page={Number(page)}\n              showFirstButton\n              showLastButton\n              size=\"large\"\n            />\n          )}\n        </>\n      )}\n    </>\n  );\n}","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: process.env.REACT_APP_TMDB_API_KEY,\n  language: 'en-US',\n};\n\nasync function getPopularMovies(page) {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n      params: {\n        page,\n      },\n    };\n    const { data } = await axios(config, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMoviesByKeyWord(query, page) {\n  try {\n    const config = {\n      url: `search/movie`,\n      params: {\n        query,\n        page,\n      },\n    };\n    const { data } = await axios(config, query, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieById(id) {\n  try {\n    const config = {\n      url: `movie/${id}`,\n    };\n    const { data } = await axios(config, id);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getCastInfo(id) {\n  try {\n    const config = {\n      url: `movie/${id}/credits`,\n    };\n    const { data } = await axios(config, id);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieReview(id) {\n  try {\n    const config = {\n      url: `movie/${id}/reviews`,\n    };\n    const { data } = await axios(config, id);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nconst apiService = {\n  getPopularMovies,\n  getMoviesByKeyWord,\n  getMovieById,\n  getCastInfo,\n  getMovieReview,\n};\n\nexport default apiService;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n"],"names":["ErrorComponent","message","role","className","src","width","alt","text","LoaderComponent","height","colors","ariaLabel","radius","wrapperStyle","position","top","left","transform","wrapperClass","visible","SearchBar","onHandleSubmit","currQuery","useState","query","setQuery","done","setDone","onSubmit","event","preventDefault","trim","toast","styles","type","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","Movies","navigate","useNavigate","location","useLocation","url","pathname","totalPage","setTotalPage","movies","setMovies","error","setError","Status","status","setStatus","page","URLSearchParams","search","get","useEffect","newSearch","apiService","then","results","total_pages","length","catch","console","log","Loader","Error","textError","map","movie","to","id","state","getBack","poster_path","noPhoto","title","Pagination","color","count","Number","showFirstButton","showLastButton","size","getPopularMovies","config","params","axios","data","getMoviesByKeyWord","getMovieById","getCastInfo","cast","getMovieReview","api_key","process","language","IDLE","PENDING","RESOLVED","REJECTED"],"sourceRoot":""}